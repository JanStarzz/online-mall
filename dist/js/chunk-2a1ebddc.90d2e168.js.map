{"version":3,"sources":["webpack:///./src/components/CenterMenu.vue?5a99","webpack:///src/components/CenterMenu.vue","webpack:///./src/components/CenterMenu.vue?ab5c","webpack:///./src/components/CenterMenu.vue","webpack:///./src/components/CenterMenu.vue?1945","webpack:///./src/views/UserDetails.vue?d421","webpack:///./src/api/upload/index.js","webpack:///src/views/UserDetails.vue","webpack:///./src/views/UserDetails.vue?9e2b","webpack:///./src/views/UserDetails.vue","webpack:///./src/views/UserDetails.vue?be41"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","staticRenderFns","name","data","methods","component","ref","form","fnBeforeUpload","fnUploadRequest","imageUrl","slot","model","value","callback","$$v","$set","expression","staticStyle","on","save","UploadAvatar","fileName","token","axios","post","filename","params","then","res","id","nickname","avatar","isPNG","$message","error","isLt2M","beforeMount","$store","getters","getUser","components","CenterMenu"],"mappings":"2IAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAaC,MAAM,CAAC,GAAK,eAAe,CAACH,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,IAAI,CAACH,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,IAAI,CAACE,YAAY,WAAW,CAACN,EAAIQ,GAAG,UAAUJ,EAAG,KAAK,CAACE,YAAY,WAAW,CAACF,EAAG,KAAK,CAACA,EAAG,cAAc,CAACE,YAAY,SAASC,MAAM,CAAC,GAAK,YAAY,CAACP,EAAIQ,GAAG,aAAa,GAAGJ,EAAG,KAAK,CAACA,EAAG,cAAc,CAACE,YAAY,SAASC,MAAM,CAAC,GAAK,cAAc,CAACP,EAAIQ,GAAG,WAAW,GAAGJ,EAAG,KAAK,CAACA,EAAG,cAAc,CAACE,YAAY,SAASC,MAAM,CAAC,GAAK,WAAW,CAACP,EAAIQ,GAAG,WAAW,GAAGJ,EAAG,KAAK,CAACA,EAAG,cAAc,CAACE,YAAY,SAASC,MAAM,CAAC,GAAK,UAAU,CAACP,EAAIQ,GAAG,YAAY,KAAKJ,EAAG,IAAI,CAACE,YAAY,WAAW,CAACN,EAAIQ,GAAG,UAAUJ,EAAG,KAAK,CAACE,YAAY,WAAW,CAACF,EAAG,KAAK,CAACA,EAAG,cAAc,CAACE,YAAY,SAASC,MAAM,CAAC,GAAK,kBAAkB,CAACP,EAAIQ,GAAG,WAAW,GAAGJ,EAAG,KAAK,CAACA,EAAG,cAAc,CAACE,YAAY,SAASC,MAAM,CAAC,GAAK,KAAK,CAACP,EAAIQ,GAAG,WAAW,GAAGJ,EAAG,KAAK,CAACA,EAAG,cAAc,CAACE,YAAY,SAASC,MAAM,CAAC,GAAK,kBAAkB,CAACP,EAAIQ,GAAG,WAAW,KAAKJ,EAAG,IAAI,CAACE,YAAY,WAAW,CAACN,EAAIQ,GAAG,QAAQJ,EAAG,KAAK,CAACE,YAAY,WAAW,CAACF,EAAG,KAAK,CAACA,EAAG,cAAc,CAACE,YAAY,SAASC,MAAM,CAAC,GAAK,WAAW,CAACP,EAAIQ,GAAG,WAAW,GAAGJ,EAAG,KAAK,CAACA,EAAG,IAAI,CAACE,YAAY,SAASC,MAAM,CAAC,KAAO,wCAAwC,OAAS,WAAW,CAACP,EAAIQ,GAAG,gBAAgBJ,EAAG,KAAK,CAACA,EAAG,IAAI,CAACE,YAAY,SAASC,MAAM,CAAC,KAAO,uCAAuC,OAAS,WAAW,CAACP,EAAIQ,GAAG,oBAAoBJ,EAAG,MAAM,CAACE,YAAY,iBAAiB,IAC7kDG,EAAkB,GCqEtB,GACEC,KAAM,aACNC,KAFF,WAGI,MAAO,IAETC,QAAS,IC3E6a,I,wBCQpbC,EAAY,eACd,EACAd,EACAU,GACA,EACA,KACA,WACA,MAIa,OAAAI,E,6CCnBf,yBAA0mB,EAAG,G,2CCA7mB,IAAId,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,UAAUC,MAAM,CAAC,GAAK,UAAU,KAAO,YAAY,CAACH,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,SAAS,CAACG,MAAM,CAAC,OAAS,KAAK,CAACH,EAAG,MAAM,CAACA,EAAG,eAAe,GAAGA,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,UAAUF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,IAAI,CAACJ,EAAIQ,GAAG,YAAYJ,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,UAAU,CAACU,IAAI,OAAOP,MAAM,CAAC,MAAQP,EAAIe,KAAK,cAAc,SAAS,CAACX,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,QAAQ,CAACH,EAAG,YAAY,CAACU,IAAI,SAASR,YAAY,kBAAkBC,MAAM,CAAC,OAAS,GAAG,MAAQ,KAAK,gBAAgBP,EAAIgB,eAAe,eAAehB,EAAIiB,gBAAgB,kBAAiB,IAAQ,CAAEjB,EAAY,SAAEI,EAAG,MAAM,CAACE,YAAY,SAASC,MAAM,CAAC,IAAMP,EAAIkB,YAAYd,EAAG,IAAI,CAACE,YAAY,sCAAsCF,EAAG,MAAM,CAACE,YAAY,iBAAiBC,MAAM,CAAC,KAAO,OAAOY,KAAK,OAAO,CAACnB,EAAIQ,GAAG,oCAAoC,GAAGJ,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,WAAW,CAACH,EAAG,WAAW,CAACgB,MAAM,CAACC,MAAOrB,EAAIe,KAAa,SAAEO,SAAS,SAAUC,GAAMvB,EAAIwB,KAAKxB,EAAIe,KAAM,WAAYQ,IAAME,WAAW,oBAAoB,GAAGrB,EAAG,eAAe,CAACA,EAAG,YAAY,CAACsB,YAAY,CAAC,gBAAgB,QAAQnB,MAAM,CAAC,KAAO,WAAWoB,GAAG,CAAC,MAAQ3B,EAAI4B,OAAO,CAAC5B,EAAIQ,GAAG,SAAS,IAAI,IAAI,QAAQ,IAAI,MAC52CC,EAAkB,G,qECUhBoB,EAAe,SAACC,EAAUC,GAAX,OACnBC,IACGC,KAAK,iBAAkB,CAAEC,SAAUJ,GAAY,CAAEK,OAAQ,CAAEJ,WAC3DK,MAAK,SAAAC,GAAG,OAAIA,EAAI1B,S,YC2CrB,GACED,KAAM,UACNC,KAFF,WAGI,MAAO,CACLI,KAAM,CACJuB,GAAI,EACJC,SAAU,GACVC,OAAQ,IAEVtB,SAAU,KAGdN,QAAS,OAAX,OAAW,CAAX,kBACA,6BADA,IAEII,eAFJ,SAEA,GACM,IAAN,8CACA,qBAOM,OANKyB,GACHxC,KAAKyC,SAASC,MAAM,yBAEjBC,GACH3C,KAAKyC,SAASC,MAAM,qBAEfF,GAASG,GAElB3B,gBAbJ,SAaA,cACM,EACN,0CACA,kBACQ,GAAR,gBACU,IAAV,qBACU,EAAV,0BACU,EAAV,aACU,EAAV,kBACY,EAAZ,oBACY,EAAZ,6BAEA,iBAEU,EAAV,oBAEU,EAAV,6BAGA,mBACQ,EAAR,0BAGIW,KApCJ,WAoCA,WACM,EAAN,KACA,wCACA,kBACQ,GAAR,gBAEU,IAAV,yBACU,aAAV,kBAEU,EAAV,gBACU,EAAV,sBACU,EAAV,cACY,KAAZ,gBAEA,iBAEU,EAAV,oBAEU,EAAV,6BAGA,mBACQ,EAAR,4BAIEiB,YA1EF,WA2EI5C,KAAKc,KAAKuB,GAAKrC,KAAK6C,OAAOC,QAAQC,QAAQV,GAC3CrC,KAAKc,KAAKwB,SAAWtC,KAAK6C,OAAOC,QAAQC,QAAQT,SACjDtC,KAAKiB,SAAWjB,KAAK6C,OAAOC,QAAQC,QAAQR,QAE9CS,WAAY,CACVC,WAAJ,SCzIyb,I,wBCQrbrC,EAAY,eACd,EACAd,EACAU,GACA,EACA,KACA,KACA,MAIa,aAAAI,E,kECnBf,yBAAmlB,EAAG","file":"js/chunk-2a1ebddc.90d2e168.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"centerMenu\",attrs:{\"id\":\"centerMenu\"}},[_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"menu\"},[_c('div',{staticClass:\"menu-content\"},[_c('div',{staticClass:\"menu-part\"},[_c('p',{staticClass:\"submenu\"},[_vm._v(\"个人中心\")]),_c('ul',{staticClass:\"menu-ul\"},[_c('li',[_c('router-link',{staticClass:\"menu-a\",attrs:{\"to\":\"/center\"}},[_vm._v(\"我的个人中心\")])],1),_c('li',[_c('router-link',{staticClass:\"menu-a\",attrs:{\"to\":\"/favorite\"}},[_vm._v(\"我的收藏\")])],1),_c('li',[_c('router-link',{staticClass:\"menu-a\",attrs:{\"to\":\"/order\"}},[_vm._v(\"我的订单\")])],1),_c('li',[_c('router-link',{staticClass:\"menu-a\",attrs:{\"to\":\"/cart\"}},[_vm._v(\"我的购物车\")])],1)]),_c('p',{staticClass:\"submenu\"},[_vm._v(\"账户管理\")]),_c('ul',{staticClass:\"menu-ul\"},[_c('li',[_c('router-link',{staticClass:\"menu-a\",attrs:{\"to\":\"/user/details\"}},[_vm._v(\"个人信息\")])],1),_c('li',[_c('router-link',{staticClass:\"menu-a\",attrs:{\"to\":\"\"}},[_vm._v(\"修改密码\")])],1),_c('li',[_c('router-link',{staticClass:\"menu-a\",attrs:{\"to\":\"/user/address\"}},[_vm._v(\"收货地址\")])],1)]),_c('p',{staticClass:\"submenu\"},[_vm._v(\"关于\")]),_c('ul',{staticClass:\"menu-ul\"},[_c('li',[_c('router-link',{staticClass:\"menu-a\",attrs:{\"to\":\"/about\"}},[_vm._v(\"关于网站\")])],1),_c('li',[_c('a',{staticClass:\"menu-a\",attrs:{\"href\":\"https://github.com/congz666/cmall-vue\",\"target\":\"_blank\"}},[_vm._v(\"项目地址(前端)\")])]),_c('li',[_c('a',{staticClass:\"menu-a\",attrs:{\"href\":\"https://github.com/congz666/cmall-go\",\"target\":\"_blank\"}},[_vm._v(\"项目地址(后端)\")])])])]),_c('div',{staticClass:\"extra\"})])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * @Descripttion:个人中心导航组件 \n * @Author: congz\n * @Date: 2020-07-03 09:40:21\n * @LastEditors: congz\n * @LastEditTime: 2020-08-04 10:44:30\n--> \n\n<template>\n  <div class=\"centerMenu\" id=\"centerMenu\">\n    <el-col :span=\"4\">\n      <div class=\"menu\">\n        <div class=\"menu-content\">\n          <div class=\"menu-part\">\n            <p class=\"submenu\">个人中心</p>\n            <ul class=\"menu-ul\">\n              <li>\n                <router-link to=\"/center\" class=\"menu-a\">我的个人中心</router-link>\n              </li>\n              <li>\n                <router-link to=\"/favorite\" class=\"menu-a\">我的收藏</router-link>\n              </li>\n              <li>\n                <router-link to=\"/order\" class=\"menu-a\">我的订单</router-link>\n              </li>\n              <li>\n                <router-link to=\"/cart\" class=\"menu-a\">我的购物车</router-link>\n              </li>\n            </ul>\n            <p class=\"submenu\">账户管理</p>\n            <ul class=\"menu-ul\">\n              <li>\n                <router-link to=\"/user/details\" class=\"menu-a\">个人信息</router-link>\n              </li>\n              <li>\n                <router-link to class=\"menu-a\">修改密码</router-link>\n              </li>\n              <li>\n                <router-link to=\"/user/address\" class=\"menu-a\">收货地址</router-link>\n              </li>\n            </ul>\n            <p class=\"submenu\">关于</p>\n            <ul class=\"menu-ul\">\n              <li>\n                <router-link to=\"/about\" class=\"menu-a\">关于网站</router-link>\n              </li>\n              <li>\n                <a\n                  href=\"https://github.com/congz666/cmall-vue\"\n                  target=\"_blank\"\n                  class=\"menu-a\"\n                >项目地址(前端)</a>\n              </li>\n              <li>\n                <a\n                  href=\"https://github.com/congz666/cmall-go\"\n                  target=\"_blank\"\n                  class=\"menu-a\"\n                >项目地址(后端)</a>\n              </li>\n            </ul>\n          </div>\n\n          <div class=\"extra\"></div>\n        </div>\n      </div>\n    </el-col>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'CenterMenu',\n  data() {\n    return {}\n  },\n  methods: {}\n}\n</script>\n<style scoped>\n.menu {\n  background-color: #ffffff;\n}\n.menu-content {\n  width: 120px;\n  margin: 0 auto;\n}\n.submenu {\n  padding-top: 30px;\n  padding-bottom: 20px;\n}\n.menu-ul {\n  line-height: 30px;\n}\n.menu-ul .menu-a {\n  font-size: 15px;\n  color: #7b7f86;\n}\n.menu-ul .menu-a:hover {\n  color: #ff6700;\n}\n.extra {\n  height: 40px;\n}\n</style>","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./CenterMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./CenterMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CenterMenu.vue?vue&type=template&id=52967438&scoped=true&\"\nimport script from \"./CenterMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./CenterMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CenterMenu.vue?vue&type=style&index=0&id=52967438&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52967438\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./CenterMenu.vue?vue&type=style&index=0&id=52967438&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./CenterMenu.vue?vue&type=style&index=0&id=52967438&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"details\",attrs:{\"id\":\"details\",\"name\":\"details\"}},[_c('div',{staticClass:\"details-layout\"},[_c('el-row',{attrs:{\"gutter\":10}},[_c('div',[_c('CenterMenu')],1),_c('el-col',{attrs:{\"span\":20}},[_c('div',{staticClass:\"details-content\"},[_c('div',{staticClass:\"extra\"}),_c('div',{staticClass:\"details-title\"},[_c('p',[_vm._v(\"个人信息\")])]),_c('div',{staticClass:\"details-form\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"头像:\"}},[_c('el-upload',{ref:\"upload\",staticClass:\"avatar-uploader\",attrs:{\"action\":\"\",\"label\":\"描述\",\"before-upload\":_vm.fnBeforeUpload,\"http-request\":_vm.fnUploadRequest,\"show-file-list\":false}},[(_vm.imageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.imageUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"}),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"点击上传头像,只能上传png/jpg文件，且不超过2M\")])])],1),_c('el-form-item',{attrs:{\"label\":\"昵称:   \"}},[_c('el-input',{model:{value:(_vm.form.nickname),callback:function ($$v) {_vm.$set(_vm.form, \"nickname\", $$v)},expression:\"form.nickname\"}})],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"margin-bottom\":\"83px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1)],1)],1)])])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * @Descripttion:调用后端上传接口的函数\n * @Author: congz\n * @Date: 2020-07-12 15:44:02\n * @LastEditors: congz\n * @LastEditTime: 2020-07-17 11:01:25\n */\n\nimport axios from 'axios'\n\n// 请求图片签名\nconst UploadAvatar = (fileName, token) =>\n  axios\n    .post('/api/v1/avatar', { filename: fileName }, { params: { token } })\n    .then(res => res.data)\n\nexport { UploadAvatar }\n","<!--\n * @Descripttion: 个人信息页面组件\n * @Author: congz\n * @Date: 2020-07-11 14:59:00\n * @LastEditors: congz\n * @LastEditTime: 2020-08-04 09:30:44\n--> \n\n<template>\n  <div class=\"details\" id=\"details\" name=\"details\">\n    <div class=\"details-layout\">\n      <el-row :gutter=\"10\">\n        <div>\n          <CenterMenu></CenterMenu>\n        </div>\n        <el-col :span=\"20\">\n          <div class=\"details-content\">\n            <div class=\"extra\"></div>\n            <div class=\"details-title\">\n              <p>个人信息</p>\n            </div>\n            <div class=\"details-form\">\n              <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\n                <el-form-item label=\"头像:\">\n                  <el-upload\n                    class=\"avatar-uploader\"\n                    action\n                    label=\"描述\"\n                    ref=\"upload\"\n                    :before-upload=\"fnBeforeUpload\"\n                    :http-request=\"fnUploadRequest\"\n                    :show-file-list=\"false\"\n                  >\n                    <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\" />\n                    <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n                    <div class=\"el-upload__tip\" slot=\"tip\">点击上传头像,只能上传png/jpg文件，且不超过2M</div>\n                  </el-upload>\n                </el-form-item>\n                <el-form-item label=\"昵称:   \">\n                  <el-input v-model=\"form.nickname\"></el-input>\n                </el-form-item>\n                <el-form-item>\n                  <el-button type=\"primary\" style=\"margin-bottom:83px\" @click=\"save\">保存</el-button>\n                </el-form-item>\n              </el-form>\n            </div>\n          </div>\n        </el-col>\n      </el-row>\n    </div>\n  </div>\n</template>\n<script>\nimport CenterMenu from '../components/CenterMenu'\nimport { mapActions } from 'vuex'\nimport * as uplpadAPI from '@/api/upload/'\nimport * as userAPI from '@/api/users/'\nexport default {\n  name: 'Details',\n  data() {\n    return {\n      form: {\n        id: 0,\n        nickname: '',\n        avatar: ''\n      },\n      imageUrl: ''\n    }\n  },\n  methods: {\n    ...mapActions(['setUser']),\n    fnBeforeUpload(file) {\n      const isPNG = file.type === 'image/png' || file.type === 'image/jpeg'\n      const isLt2M = file.size / 1024 / 1024 < 2\n      if (!isPNG) {\n        this.$message.error('上传头像图片只能是 PNG/JPG 格式!')\n      }\n      if (!isLt2M) {\n        this.$message.error('上传头像图片大小不能超过 2MB!')\n      }\n      return isPNG && isLt2M\n    },\n    fnUploadRequest(option) {\n      uplpadAPI\n        .UploadAvatar(option.file.name, this.$store.getters.getToken)\n        .then(res => {\n          if (res.status === 200) {\n            const oReq = new XMLHttpRequest()\n            oReq.open('PUT', res.data.put, true)\n            oReq.send(option.file)\n            oReq.onload = () => {\n              this.imageUrl = res.data.get\n              this.form.avatar = res.data.key\n            }\n          } else if (res.status === 20001) {\n            //token过期，需要重新登录\n            this.loginExpired(res.msg)\n          } else {\n            this.notifyError('上传失败', res.msg)\n          }\n        })\n        .catch(error => {\n          this.notifyError('修改失败', error)\n        })\n    },\n    save() {\n      userAPI\n        .updateUser(this.form, this.$store.getters.getToken)\n        .then(res => {\n          if (res.status === 200) {\n            // 登录信息存到本地\n            let user = JSON.stringify(res.data)\n            localStorage.setItem('user', user)\n            // 登录信息存到vuex\n            this.setUser(res.data)\n            this.notifySucceed('修改成功')\n            this.$router.push({\n              name: 'Center'\n            })\n          } else if (res.status === 20001) {\n            //token过期，需要重新登录\n            this.loginExpired(res.msg)\n          } else {\n            this.notifyError('修改失败', res.msg)\n          }\n        })\n        .catch(error => {\n          this.notifyError('修改失败', error)\n        })\n    }\n  },\n  beforeMount() {\n    this.form.id = this.$store.getters.getUser.id\n    this.form.nickname = this.$store.getters.getUser.nickname\n    this.imageUrl = this.$store.getters.getUser.avatar\n  },\n  components: {\n    CenterMenu\n  }\n}\n</script>\n<style >\n.details-layout {\n  max-width: 1225px;\n  margin: 0 auto;\n}\n.details-content {\n  background-color: #ffffff;\n  margin-bottom: 30px;\n}\n.details-title {\n  height: 100px;\n  display: flex;\n  align-items: center;\n}\n.details-title p {\n  font-size: 30px;\n  color: #757575;\n  margin-left: 50px;\n}\n.details-form {\n  width: 500px;\n}\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 100%;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n\n.avatar-uploader .el-upload:hover {\n  border-color: #ff6700;\n}\n\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 178px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n}\n\n.avatar {\n  max-width: 178px;\n  max-height: 178px;\n  border-radius: 100%;\n  display: block;\n}\n.extra {\n  height: 10px;\n}\n</style>","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./UserDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./UserDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserDetails.vue?vue&type=template&id=63e5fbc6&\"\nimport script from \"./UserDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./UserDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserDetails.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./UserDetails.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./UserDetails.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}