(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24a4c09c"],{"513c":function(t,e,s){"use strict";var i=s("1e2c"),a=s("d890"),c=s("e8d6"),r=s("1944"),n=s("faa8"),o=s("2118"),u=s("7063"),l=s("9f67"),d=s("efe2"),p=s("6d60"),f=s("b338").f,h=s("aa6b").f,g=s("d910").f,v=s("c10f").trim,m="Number",_=a[m],I=_.prototype,C=o(p(I))==m,b=function(t){var e,s,i,a,c,r,n,o,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=v(u),e=u.charCodeAt(0),43===e||45===e){if(s=u.charCodeAt(2),88===s||120===s)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:i=2,a=49;break;case 79:case 111:i=8,a=55;break;default:return+u}for(c=u.slice(2),r=c.length,n=0;n<r;n++)if(o=c.charCodeAt(n),o<48||o>a)return NaN;return parseInt(c,i)}return+u};if(c(m,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var y,D=function(t){var e=arguments.length<1?0:t,s=this;return s instanceof D&&(C?d((function(){I.valueOf.call(s)})):o(s)!=m)?u(new _(b(e)),s,D):b(e)},w=i?f(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;w.length>k;k++)n(_,y=w[k])&&!n(D,y)&&g(D,y,h(_,y));D.prototype=I,I.constructor=D,r(a,m,D)}},"630a":function(t,e,s){},7063:function(t,e,s){var i=s("a719"),a=s("50fb");t.exports=function(t,e,s){var c,r;return a&&"function"==typeof(c=e.constructor)&&c!==s&&i(r=c.prototype)&&r!==s.prototype&&a(t,r),t}},"833b":function(t,e,s){"use strict";var i=s("630a"),a=s.n(i);a.a},"90dc":function(t,e,s){"use strict";s.d(e,"e",(function(){return c})),s.d(e,"b",(function(){return r})),s.d(e,"a",(function(){return n})),s.d(e,"d",(function(){return o})),s.d(e,"c",(function(){return u}));var i=s("82ae"),a=s.n(i),c=function(t){return a.a.get("/api/v1/products/".concat(t)).then((function(t){return t.data}))},r=function(t,e){return a.a.get("/api/v1/products",{params:{start:t,limit:e}}).then((function(t){return t.data}))},n=function(t){return a.a.get("/api/v1/categories/".concat(t)).then((function(t){return t.data}))},o=function(t){return a.a.get("/api/v1/imgs/".concat(t)).then((function(t){return t.data}))},u=function(t){return a.a.post("/api/v1/searches",t).then((function(t){return t.data}))}},"9f52":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"details"}},[s("div",{staticClass:"page-header"},[s("div",{staticClass:"title"},[s("p",[t._v(t._s(t.productDetails.name))]),s("div",{staticClass:"list"},[s("div",{staticClass:"select"},[s("el-button",{staticClass:"list-select",attrs:{type:"text"},on:{click:t.goInfo}},[t._v("概述")])],1),s("span",{staticClass:"cut"},[t._v("|")]),s("div",{staticClass:"select"},[s("el-button",{staticClass:"list-select",attrs:{type:"text"},on:{click:t.goParam}},[t._v("参数")])],1),s("span",{staticClass:"cut"},[t._v("|")]),s("div",{staticClass:"select"},[s("el-button",{staticClass:"list-select",attrs:{type:"text"}},[t._v("用户评价")])],1)])])]),s("div",{staticClass:"main"},[s("div",{staticClass:"block"},[t.productPictures.length>1?s("el-carousel",{attrs:{height:"560px"}},t._l(t.productPictures,(function(t){return s("el-carousel-item",{key:t.id},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.img_path,expression:"item.img_path"}],staticStyle:{height:"560px"}})])})),1):t._e(),1==t.productPictures.length?s("div",[s("img",{staticStyle:{height:"560px"},attrs:{src:t.productPictures[0].img_path}})]):t._e()],1),s("div",{staticClass:"content"},[s("h1",{staticClass:"name"},[t._v(t._s(t.productDetails.name))]),s("li",{staticClass:"view"},[s("i",{staticClass:"el-icon-view"}),t._v(" "+t._s(t.productDetails.view)+" ")]),s("p",{staticClass:"intro"},[t._v(t._s(t.productDetails.info))]),s("p",{staticClass:"store"},[t._v("小米自营")]),s("div",{staticClass:"price"},[s("span",[t._v(t._s(t.productDetails.discount_price)+"元")]),s("span",{directives:[{name:"show",rawName:"v-show",value:t.productDetails.price!=t.productDetails.discount_price,expression:"productDetails.price != productDetails.discount_price"}],staticClass:"del"},[t._v(t._s(t.productDetails.price)+"元")])]),s("div",{staticClass:"pro-list"},[s("span",{staticClass:"pro-name"},[t._v(t._s(t.productDetails.name))]),s("span",{staticClass:"pro-price"},[s("span",[t._v(t._s(t.productDetails.discount_price)+"元")]),s("span",{directives:[{name:"show",rawName:"v-show",value:t.productDetails.price!=t.productDetails.discount_price,expression:"productDetails.price != productDetails.discount_price"}],staticClass:"pro-del"},[t._v(t._s(t.productDetails.price)+"元")])]),s("p",{staticClass:"price-sum"},[t._v("总计 : "+t._s(t.productDetails.discount_price)+"元")])]),s("div",{staticClass:"button"},[s("el-button",{staticClass:"shop-cart",attrs:{disabled:t.dis},on:{click:t.addShoppingCart}},[t._v("加入购物车")]),s("el-button",{staticClass:"like",on:{click:t.addFavorite}},[t._v("喜欢")])],1),t._m(0)])]),s("div",{staticClass:"product-select",attrs:{id:"product-select"}},[s("el-button",{class:0==t.select?"isSelect":"notSelect",attrs:{type:"text"},on:{click:t.showInfoImgs}},[t._v("商品概述")]),s("span",{staticClass:"cut"},[t._v("|")]),s("el-button",{class:1==t.select?"isSelect":"notSelect",attrs:{type:"text"},on:{click:t.showParamImgs}},[t._v("商品参数")])],1),t._l(t.imgs,(function(t){return s("div",{key:t.id,staticClass:"product-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.img_path,expression:"item.img_path"}]})])}))],2)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pro-policy"},[s("ul",[s("li",[s("i",{staticClass:"el-icon-circle-check"}),t._v(" 小米自营 ")]),s("li",[s("i",{staticClass:"el-icon-circle-check"}),t._v(" 小米发货 ")]),s("li",[s("i",{staticClass:"el-icon-circle-check"}),t._v(" 7天无理由退货 ")]),s("li",[s("i",{staticClass:"el-icon-circle-check"}),t._v(" 7天价格保护 ")])])])}],c=(s("513c"),s("0eaa")),r=s("ae8c"),n=s("90dc"),o=s("82ae"),u=s.n(o),l=function(t){return u.a.get("/api/v1/info-imgs/".concat(t)).then((function(t){return t.data}))},d=function(t){return u.a.get("/api/v1/param-imgs/".concat(t)).then((function(t){return t.data}))},p=s("aaaa"),f=s("9fec"),h={data:function(){return{dis:!1,productID:0,productDetails:"",productPictures:"",imgs:"",infoImgs:"",paramImgs:"",select:0}},activated:function(){void 0!=this.$route.query.productID&&(this.productID=this.$route.query.productID)},watch:{productID:function(){this.load()}},methods:Object(c["a"])(Object(c["a"])({},Object(r["b"])(["unshiftShoppingCart","addShoppingCartNum"])),{},{load:function(){var t=this;n["e"](this.productID).then((function(e){t.productDetails=e.data})),n["d"](this.productID).then((function(e){t.productPictures=e.data})),l(this.productID).then((function(e){t.infoImgs=e.data,t.imgs=t.infoImgs})),d(this.productID).then((function(e){t.paramImgs=e.data}))},goInfo:function(){this.showInfoImgs(),document.getElementById("product-select").scrollIntoView()},goParam:function(){this.showParamImgs(),document.getElementById("product-select").scrollIntoView()},showInfoImgs:function(){this.select=0,this.imgs=this.infoImgs},showParamImgs:function(){this.select=1,this.imgs=this.paramImgs},addShoppingCart:function(){var t=this;if(this.$store.getters.getUser){var e={user_id:this.$store.getters.getUser.id,product_id:Number(this.productID)};f["b"](e,this.$store.getters.getToken).then((function(e){switch(e.status){case 200:t.unshiftShoppingCart(e.data),t.notifySucceed("添加购物车成功");break;case 201:t.addShoppingCartNum(t.productID),t.notifySucceed("该商品已在购物车，数量+1");break;case 202:t.dis=!0,t.notifyError("商品达到限购数量",e.msg);break;case 20001:t.loginExpired(e.msg);break;default:t.notifyError("添加购物车失败",e.msg)}})).catch((function(e){t.notifyError("添加购物车失败",e)}))}else this.$router.push({name:"Login"})},addFavorite:function(){var t=this;if(this.$store.getters.getUser){var e={user_id:this.$store.getters.getUser.id,product_id:this.productID};p["b"](e,this.$store.getters.getToken).then((function(e){200===e.status?t.notifySucceed("添加收藏夹成功"):20001===e.status?t.loginExpired(e.msg):t.notifyError("添加收藏夹失败",e.msg)})).catch((function(e){t.notifyError("添加收藏夹失败",e)}))}else this.$router.push({name:"Login"})}}),beforeRouteEnter:function(t,e,s){document.querySelector("body").setAttribute("style","background-color:#ffffff"),s()},beforeRouteLeave:function(t,e,s){document.querySelector("body").setAttribute("style","background-color:#f5f5f5"),s()}},g=h,v=(s("833b"),s("4023")),m=Object(v["a"])(g,i,a,!1,null,null,null);e["default"]=m.exports},c10f:function(t,e,s){var i=s("2732"),a=s("fc8c"),c="["+a+"]",r=RegExp("^"+c+c+"*"),n=RegExp(c+c+"*$"),o=function(t){return function(e){var s=String(i(e));return 1&t&&(s=s.replace(r,"")),2&t&&(s=s.replace(n,"")),s}};t.exports={start:o(1),end:o(2),trim:o(3)}},fc8c:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-24a4c09c.02e3151b.js.map