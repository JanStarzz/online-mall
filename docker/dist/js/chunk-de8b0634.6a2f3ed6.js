(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-de8b0634"],{"241f":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"address",attrs:{id:"address",name:"address"}},[s("div",{staticClass:"address-layout"},[s("el-row",{attrs:{gutter:10}},[s("div",[s("CenterMenu")],1),s("el-col",{attrs:{span:20}},[s("div",{staticClass:"address-content"},[s("div",{staticClass:"extra"}),s("div",{staticClass:"address-title"},[s("p",[t._v("收货地址")])]),s("div",{staticClass:"address-body"},[s("ul",[s("router-link",{attrs:{to:""}},[s("li",{staticClass:"add-address",on:{click:function(e){t.addVisible=!0}}},[s("i",{staticClass:"el-icon-circle-plus-outline"}),s("p",[t._v("添加新地址")])])]),s("router-link",{attrs:{to:""}},t._l(t.address,(function(e,a){return s("li",{key:e.id,class:e.id==t.confirmAddress?"in-section":"",on:{mouseenter:function(s){return t.mouseEnter(e)},mouseleave:function(s){return t.mouseLeave(e)}}},[s("h2",[t._v(t._s(e.name))]),s("p",{staticClass:"phone"},[t._v(t._s(e.phone))]),s("p",{staticClass:"address"},[t._v(t._s(e.address))]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.seen,expression:"item.seen"}],staticClass:"operate"},[s("span",{on:{click:function(s){return t.edit(e)}}},[t._v("修改")]),s("span",{on:{click:function(s){return t.deleteDialog(e.id,a)}}},[t._v("删除")])])])})),0)],1)])]),s("el-dialog",{attrs:{title:"新建收货地址",visible:t.addVisible,width:"30%"},on:{"update:visible":function(e){t.addVisible=e}}},[s("el-form",{ref:"form",attrs:{model:t.form,"label-width":"70px"}},[s("el-form-item",{attrs:{label:"姓名"}},[s("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),s("el-form-item",{attrs:{label:"手机号"}},[s("el-input",{model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),s("el-form-item",{attrs:{label:"详细地址"}},[s("el-input",{attrs:{type:"textarea",rows:"5"},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:t.postEdit}},[t._v("确 定")]),s("el-button",{on:{click:function(e){t.addVisible=!1}}},[t._v("取 消")])],1)],1),s("el-dialog",{attrs:{title:"修改收货地址",visible:t.editVisible,width:"30%"},on:{"update:visible":function(e){t.editVisible=e}}},[s("el-form",{ref:"form",attrs:{model:t.form,"label-width":"70px"}},[s("el-form-item",{attrs:{label:"姓名"}},[s("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),s("el-form-item",{attrs:{label:"手机号"}},[s("el-input",{model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),s("el-form-item",{attrs:{label:"详细地址"}},[s("el-input",{attrs:{type:"textarea",rows:"5"},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:t.saveEdit}},[t._v("确 定")]),s("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")])],1)],1),s("el-dialog",{attrs:{title:"提示",visible:t.deleteVisible,width:"30%",center:""},on:{"update:visible":function(e){t.deleteVisible=e}}},[s("div",{staticClass:"delete-dialog"},[s("span",[t._v("确认删除该地址吗？")])]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:t.deleteAddress}},[t._v("确 定")]),s("el-button",{on:{click:function(e){t.deleteVisible=!1}}},[t._v("取 消")])],1)])],1)],1)],1)])},i=[],n=(s("ea69"),s("46e0")),r=s("ab20"),o={name:"Details",data:function(){return{address:[],addVisible:!1,editVisible:!1,deleteVisible:!1,confirmAddress:0,addressID:0,addressIndex:0,form:{id:"",user_id:"",name:"",phone:"",address:""}}},created:function(){this.getAddress()},methods:{getAddress:function(){var t=this;r["c"](this.$store.getters.getUser.id,this.$store.getters.getToken).then((function(e){200===e.status?t.address=e.data:20001===e.status?t.loginExpired(e.msg):t.notifyError("获取收货地址失败",e.msg)})).catch((function(e){t.notifyError("获取收货地址失败",e)}))},mouseEnter:function(t){t.seen=!0,this.confirmAddress=t.id},mouseLeave:function(t){t.seen=!1,this.confirmAddress=0},edit:function(t){this.form=t,this.editVisible=!0},deleteDialog:function(t,e){this.addressID=t,this.addressIndex=e,this.deleteVisible=!0},postEdit:function(){var t=this;this.form.user_id=this.$store.getters.getUser.id,r["b"](this.form,this.$store.getters.getToken).then((function(e){200===e.status?(t.address=e.data,t.addVisible=!1,t.notifySucceed("新建收货地址成功")):20001===e.status?t.loginExpired(e.msg):t.notifyError("新建收货地址失败",e.msg)})).catch((function(e){t.notifyError("新建收货地址失败",e)}))},saveEdit:function(){var t=this;this.form.user_id=this.$store.getters.getUser.id,r["d"](this.form,this.$store.getters.getToken).then((function(e){200===e.status?(t.address=e.data,t.editVisible=!1,t.notifySucceed("修改收货地址成功")):20001===e.status?t.loginExpired(e.msg):t.notifyError("修改收货地址失败",e.msg)})).catch((function(e){t.notifyError("修改收货地址失败",e)}))},deleteAddress:function(){var t=this;r["a"](this.addressID,this.$store.getters.getToken).then((function(e){200===e.status?(t.address.splice(t.addressIndex,1),t.deleteVisible=!1,t.notifySucceed("删除收货地址成功")):20001===e.status?t.loginExpired(e.msg):t.notifyError("删除收货地址失败",e.msg)})).catch((function(e){t.notifyError("删除收货地址失败",e)}))}},components:{CenterMenu:n["a"]}},l=o,d=(s("c9c5"),s("4023")),c=Object(d["a"])(l,a,i,!1,null,"759870ba",null);e["default"]=c.exports},"46e0":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"centerMenu",attrs:{id:"centerMenu"}},[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"menu"},[s("div",{staticClass:"menu-content"},[s("div",{staticClass:"menu-part"},[s("p",{staticClass:"submenu"},[t._v("个人中心")]),s("ul",{staticClass:"menu-ul"},[s("li",[s("router-link",{staticClass:"menu-a",attrs:{to:"/center"}},[t._v("我的个人中心")])],1),s("li",[s("router-link",{staticClass:"menu-a",attrs:{to:"/favorite"}},[t._v("我的收藏")])],1),s("li",[s("router-link",{staticClass:"menu-a",attrs:{to:"/order"}},[t._v("我的订单")])],1),s("li",[s("router-link",{staticClass:"menu-a",attrs:{to:"/cart"}},[t._v("我的购物车")])],1)]),s("p",{staticClass:"submenu"},[t._v("账户管理")]),s("ul",{staticClass:"menu-ul"},[s("li",[s("router-link",{staticClass:"menu-a",attrs:{to:"/user/details"}},[t._v("个人信息")])],1),s("li",[s("router-link",{staticClass:"menu-a",attrs:{to:""}},[t._v("修改密码")])],1),s("li",[s("router-link",{staticClass:"menu-a",attrs:{to:"/user/address"}},[t._v("收货地址")])],1)]),s("p",{staticClass:"submenu"},[t._v("关于")]),s("ul",{staticClass:"menu-ul"},[s("li",[s("router-link",{staticClass:"menu-a",attrs:{to:"/about"}},[t._v("关于网站")])],1),s("li",[s("a",{staticClass:"menu-a",attrs:{href:"https://github.com/congz666/cmall-vue",target:"_blank"}},[t._v("项目地址(前端)")])]),s("li",[s("a",{staticClass:"menu-a",attrs:{href:"https://github.com/congz666/cmall-go",target:"_blank"}},[t._v("项目地址(后端)")])])])]),s("div",{staticClass:"extra"})])])])],1)},i=[],n={name:"CenterMenu",data:function(){return{}},methods:{}},r=n,o=(s("5fca"),s("4023")),l=Object(o["a"])(r,a,i,!1,null,"52967438",null);e["a"]=l.exports},"4cff":function(t,e,s){},"5fca":function(t,e,s){"use strict";var a=s("d441"),i=s.n(a);i.a},ab20:function(t,e,s){"use strict";s.d(e,"b",(function(){return n})),s.d(e,"c",(function(){return r})),s.d(e,"d",(function(){return o})),s.d(e,"a",(function(){return l}));var a=s("82ae"),i=s.n(a),n=function(t,e){return i.a.post("/api/v1/addresses",t,{params:{token:e}}).then((function(t){return t.data}))},r=function(t,e){return i.a.get("/api/v1/addresses/".concat(t),{params:{token:e}}).then((function(t){return t.data}))},o=function(t,e){return i.a.put("/api/v1/addresses",t,{params:{token:e}}).then((function(t){return t.data}))},l=function(t,e){return i.a.delete("/api/v1/addresses",{data:{address_id:t},params:{token:e}}).then((function(t){return t.data}))}},c9c5:function(t,e,s){"use strict";var a=s("4cff"),i=s.n(a);i.a},d441:function(t,e,s){}}]);
//# sourceMappingURL=chunk-de8b0634.6a2f3ed6.js.map