(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33acf14f"],{"1c93":function(t,e,a){"use strict";var r=a("eaf2"),n=a.n(r);n.a},"513c":function(t,e,a){"use strict";var r=a("1e2c"),n=a("d890"),c=a("e8d6"),i=a("1944"),o=a("faa8"),s=a("2118"),u=a("7063"),f=a("9f67"),h=a("efe2"),d=a("6d60"),l=a("b338").f,g=a("aa6b").f,p=a("d910").f,v=a("c10f").trim,m="Number",y=n[m],b=y.prototype,I=s(d(b))==m,N=function(t){var e,a,r,n,c,i,o,s,u=f(t,!1);if("string"==typeof u&&u.length>2)if(u=v(u),e=u.charCodeAt(0),43===e||45===e){if(a=u.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+u}for(c=u.slice(2),i=c.length,o=0;o<i;o++)if(s=c.charCodeAt(o),s<48||s>n)return NaN;return parseInt(c,r)}return+u};if(c(m,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var E,_=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof _&&(I?h((function(){b.valueOf.call(a)})):s(a)!=m)?u(new y(N(e)),a,_):N(e)},C=r?l(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),D=0;C.length>D;D++)o(y,E=C[D])&&!o(_,E)&&p(_,E,g(y,E));_.prototype=b,b.constructor=_,i(n,m,_)}},7063:function(t,e,a){var r=a("a719"),n=a("50fb");t.exports=function(t,e,a){var c,i;return n&&"function"==typeof(c=e.constructor)&&c!==a&&r(i=c.prototype)&&i!==a.prototype&&n(t,i),t}},8629:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goods",attrs:{id:"goods",name:"goods"}},[a("div",{staticClass:"breadcrumb"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:"/"}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("全部商品")]),t.search?a("el-breadcrumb-item",[t._v("搜索")]):a("el-breadcrumb-item",[t._v("分类")]),t.search?a("el-breadcrumb-item",[t._v(t._s(t.search))]):t._e()],1)],1),a("div",{staticClass:"nav"},[a("div",{staticClass:"product-nav"},[a("div",{staticClass:"title"},[t._v("分类")]),a("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.categoryList,(function(t){return a("el-tab-pane",{key:t.category_id,attrs:{label:t.category_name,name:""+t.category_id}})})),1)],1)]),a("div",{staticClass:"main"},[a("div",{staticClass:"list"},[t.product.length>0?a("MyList",{attrs:{list:t.product}}):a("div",{staticClass:"none-product"},[t._v("抱歉没有找到相关的商品，请看看其他的商品")])],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","page-size":t.pageSize,layout:"total, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)])])},n=[],c=(a("513c"),a("fe8a"),a("e35a"),a("9cf3"),a("90dc")),i=a("82ae"),o=a.n(i),s=function(){return o.a.get("/api/v1/categories").then((function(t){return t.data}))},u=function(t,e,a){return o.a.get("/api/v1/categories/".concat(t),{params:{start:e,limit:a}}).then((function(t){return t.data}))},f={data:function(){return{categoryList:"",categoryID:[],product:"",productList:"",total:0,pageSize:15,currentPage:1,activeName:"-1",search:"",start:0,limit:15}},created:function(){this.getCategory()},activated:function(){return this.activeName="-1",this.total=0,this.currentPage=1,0==Object.keys(this.$route.query).length?(this.categoryID=[],void(this.activeName="0")):void 0!=this.$route.query.categoryID?(this.categoryID=this.$route.query.categoryID,void(1==this.categoryID.length&&(this.activeName=""+this.categoryID[0]))):void(void 0!=this.$route.query.search&&(this.search=this.$route.query.search))},watch:{activeName:function(t){0==t&&(this.categoryID=[]),t>0&&(this.categoryID=[Number(t)]),this.total=0,this.currentPage=1,this.$router.push({path:"/goods",query:{categoryID:this.categoryID}})},search:function(t){""!=t&&this.getProductBySearch(t)},categoryID:function(){this.getData(),this.search=""},$route:function(t){"/goods"==t.path&&void 0!=t.query.search&&(this.activeName="-1",this.currentPage=1,this.total=0,this.search=t.query.search)}},methods:{backtop:function(){var t=setInterval((function(){var e=document.documentElement.scrollTop||document.body.scrollTop,a=Math.floor(-e/5);document.documentElement.scrollTop=document.body.scrollTop=e+a,0===e&&clearInterval(t)}),20)},handleCurrentChange:function(t){this.start=this.limit*(t-1),this.getData()},getCategory:function(){var t=this;s().then((function(e){if(200===e.status){var a={category_id:0,category_name:"全部"},r=e.data;r.unshift(a),t.categoryList=r}else t.notifyError("获取分类失败",e.msg)})).catch((function(e){t.notifyError("获取分类失败",e)}))},getData:function(){var t=this;0===this.categoryID.length?c["b"](this.start,this.limit).then((function(e){200===e.status?(t.product=e.data.items,t.total=e.data.total):t.notifyError("获取商品失败",e.msg)})).catch((function(e){t.notifyError("获取商品失败",e)})):u(this.categoryID,this.start,this.limit).then((function(e){200===e.status?(t.product=e.data.items,t.total=e.data.total):t.notifyError("获取分类商品失败",e.msg)})).catch((function(e){t.notifyError("获取分类商品失败",e)}))},getProductBySearch:function(){var t=this,e={search:this.search};c["c"](e).then((function(e){200===e.status?t.product=e.data:t.notifyError("搜索失败",e.msg)})).catch((function(e){t.notifyError("搜索失败",e)}))}}},h=f,d=(a("1c93"),a("4023")),l=Object(d["a"])(h,r,n,!1,null,"fde8f508",null);e["default"]=l.exports},"90dc":function(t,e,a){"use strict";a.d(e,"e",(function(){return c})),a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return o})),a.d(e,"d",(function(){return s})),a.d(e,"c",(function(){return u}));var r=a("82ae"),n=a.n(r),c=function(t){return n.a.get("/api/v1/products/".concat(t)).then((function(t){return t.data}))},i=function(t,e){return n.a.get("/api/v1/products",{params:{start:t,limit:e}}).then((function(t){return t.data}))},o=function(t){return n.a.get("/api/v1/categories/".concat(t)).then((function(t){return t.data}))},s=function(t){return n.a.get("/api/v1/imgs/".concat(t)).then((function(t){return t.data}))},u=function(t){return n.a.post("/api/v1/searches",t).then((function(t){return t.data}))}},c10f:function(t,e,a){var r=a("2732"),n=a("fc8c"),c="["+n+"]",i=RegExp("^"+c+c+"*"),o=RegExp(c+c+"*$"),s=function(t){return function(e){var a=String(r(e));return 1&t&&(a=a.replace(i,"")),2&t&&(a=a.replace(o,"")),a}};t.exports={start:s(1),end:s(2),trim:s(3)}},eaf2:function(t,e,a){},fc8c:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-33acf14f.8c476f6b.js.map